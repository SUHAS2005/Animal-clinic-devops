name: CI/CD Pipeline
on:
push:
branches: [ main ]
pull_request:
branches: [ main ]
jobs:
build:
runs-on: ubuntu-latest
steps:
- uses: actions/checkout@v4
- name: Set up JDK 17
uses: actions/setup-java@v4
with:
java-version: '17'
distribution: 'temurin'
- name: Build with Maven
run: mvn clean package
- name: Run Tests
run: mvn test
- name: Dependency Check
run: mvn dependency-check:check
- name: Run Checkstyle
run: mvn checkstyle:check
- name: Build Docker image
run: docker build -t your-dockerhub-username/petclinic:latest .
- name: Push to Docker Hub
run: |
docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}
docker push your-dockerhub-username/petclinic:latest
